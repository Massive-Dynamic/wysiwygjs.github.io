<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WYSIWYG</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="src/wysiwyg.js"></script>
<script type="text/javascript" src="src/wysiwyg-editor.js"></script>
<!-- github.io delivers wrong content-type -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="src/wysiwyg-editor.css" />
<script type="text/javascript">
$(document).ready(function(){
    // Full featured editor
    $('#editor1,#editor2,#editor3').each( function(index, element)
    {
        $(element).wysiwyg({
            classes: 'some-more-classes',
            position: index == 0 ? 'top-selection' : (index == 1 ? 'bottom' : 'selection'),
            buttons: {
                custombutton: index != 1 ? false : {
                    html: $('<input id="submit" type="submit" value="bold" />').click(function(){
                                // We simply make 'bold'
                                $(element).wysiwyg('bold');
                            }),
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                smilies: {
                    title: 'Smilies',
                    image: '\uf118', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                insertimage: {
                    title: 'Insert image',
                    image: '\uf030', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                insertlink: {
                    title: 'Insert link',
                    image: '\uf08e' // <img src="path/to/image.png" width="16" height="16" alt="" />
                },
                bold: {
                    title: 'Bold (Ctrl+B)',
                    image: '\uf032', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    hotkey: 'b'
                },
                italic: {
                    title: 'Italic (Ctrl+I)',
                    image: '\uf033', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    hotkey: 'i'
                },
                underline: {
                    title: 'Underline (Ctrl+U)',
                    image: '\uf0cd', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    hotkey: 'u'
                },
                strikethrough: {
                    title: 'Strikethrough (Ctrl+S)',
                    image: '\uf0cc', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    hotkey: 's'
                },
                forecolor: {
                    title: 'Text color',
                    image: '\uf1fc' // <img src="path/to/image.png" width="16" height="16" alt="" />
                },
                highlight: {
                    title: 'Background color',
                    image: '\uf043' // <img src="path/to/image.png" width="16" height="16" alt="" />
                },
                fontname: index != 0 ? false : {
                    title: 'Font',
                    image: '\uf031', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                fontsize: index != 0 ? false : {
                    title: 'Size',
                    image: '\uf034', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                alignleft: index != 0 ? false : {
                    title: 'Left',
                    image: '\uf036', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                aligncenter: index != 0 ? false : {
                    title: 'Center',
                    image: '\uf037', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                alignright: index != 0 ? false : {
                    title: 'Right',
                    image: '\uf038', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                alignjustify: index != 0 ? false : {
                    title: 'Justify',
                    image: '\uf039', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                subscript: index == 1 ? false : {
                    title: 'Subscript',
                    image: '\uf12c', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: true    // wanted on selection
                },
                superscript: index == 1 ? false : {
                    title: 'Superscript',
                    image: '\uf12b', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: true    // wanted on selection
                },
                indent: index != 0 ? false : {
                    title: 'Indent',
                    image: '\uf03c', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                outdent: index != 0 ? false : {
                    title: 'Outdent',
                    image: '\uf03b', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                orderedList: index != 0 ? false : {
                    title: 'Ordered list',
                    image: '\uf0cb', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                unorderedList: index != 0 ? false : {
                    title: 'Unordered list',
                    image: '\uf0ca', // <img src="path/to/image.png" width="16" height="16" alt="" />
                    //toolbar: true,    // wanted on the toolbar
                    selection: false    // wanted on selection
                },
                removeformat: {
                    title: 'Remove format',
                    image: '\uf12d' // <img src="path/to/image.png" width="16" height="16" alt="" />
                }
            },
            submit: {
                title: 'Submit',
                image: '\uf00c' // <img src="path/to/image.png" width="16" height="16" alt="" />
            },
            smilies: [
                    '<img src="smiley/afraid.png" width="16" height="16" alt="" />',
                    '<img src="smiley/amorous.png" width="16" height="16" alt="" />',
                    '<img src="smiley/angel.png" width="16" height="16" alt="" />',
                    '<img src="smiley/angry.png" width="16" height="16" alt="" />',
                    '<img src="smiley/bathing.png" width="16" height="16" alt="" />',
                    '<img src="smiley/beer.png" width="16" height="16" alt="" />',
                    '<img src="smiley/bored.png" width="16" height="16" alt="" />',
                    '<img src="smiley/boy.png" width="16" height="16" alt="" />',
                    '<img src="smiley/camera.png" width="16" height="16" alt="" />',
                    '<img src="smiley/chilli.png" width="16" height="16" alt="" />',
                    '<img src="smiley/cigarette.png" width="16" height="16" alt="" />',
                    '<img src="smiley/cinema.png" width="16" height="16" alt="" />',
                    '<img src="smiley/coffee.png" width="16" height="16" alt="" />',
                    '<img src="smiley/cold.png" width="16" height="16" alt="" />',
                    '<img src="smiley/confused.png" width="16" height="16" alt="" />',
                    '<img src="smiley/console.png" width="16" height="16" alt="" />',
                    '<img src="smiley/cross.png" width="16" height="16" alt="" />',
                    '<img src="smiley/crying.png" width="16" height="16" alt="" />',
                    '<img src="smiley/devil.png" width="16" height="16" alt="" />',
                    '<img src="smiley/disappointed.png" width="16" height="16" alt="" />',
                    '<img src="smiley/dont-know.png" width="16" height="16" alt="" />',
                    '<img src="smiley/drool.png" width="16" height="16" alt="" />',
                    '<img src="smiley/embarrassed.png" width="16" height="16" alt="" />',
                    '<img src="smiley/excited.png" width="16" height="16" alt="" />',
                    '<img src="smiley/excruciating.png" width="16" height="16" alt="" />',
                    '<img src="smiley/eyeroll.png" width="16" height="16" alt="" />',
                    '<img src="smiley/girl.png" width="16" height="16" alt="" />',
                    '<img src="smiley/grumpy.png" width="16" height="16" alt="" />',
                    '<img src="smiley/happy.png" width="16" height="16" alt="" />',
                    '<img src="smiley/hot.png" width="16" height="16" alt="" />',
                    '<img src="smiley/hug-left.png" width="16" height="16" alt="" />',
                    '<img src="smiley/hug-right.png" width="16" height="16" alt="" />',
                    '<img src="smiley/hungry.png" width="16" height="16" alt="" />',
                    '<img src="smiley/in_love.png" width="16" height="16" alt="" />',
                    '<img src="smiley/internet.png" width="16" height="16" alt="" />',
                    '<img src="smiley/invincible.png" width="16" height="16" alt="" />',
                    '<img src="smiley/kiss.png" width="16" height="16" alt="" />',
                    '<img src="smiley/lamp.png" width="16" height="16" alt="" />',
                    '<img src="smiley/lying.png" width="16" height="16" alt="" />',
                    '<img src="smiley/meeting.png" width="16" height="16" alt="" />',
                    '<img src="smiley/mobile.png" width="16" height="16" alt="" />',
                    '<img src="smiley/mrgreen.png" width="16" height="16" alt="" />',
                    '<img src="smiley/musical-note.png" width="16" height="16" alt="" />',
                    '<img src="smiley/music.png" width="16" height="16" alt="" />',
                    '<img src="smiley/nerdy.png" width="16" height="16" alt="" />',
                    '<img src="smiley/neutral.png" width="16" height="16" alt="" />',
                    '<img src="smiley/party.png" width="16" height="16" alt="" />',
                    '<img src="smiley/phone.png" width="16" height="16" alt="" />',
                    '<img src="smiley/pirate.png" width="16" height="16" alt="" />',
                    '<img src="smiley/pissed-off.png" width="16" height="16" alt="" />',
                    '<img src="smiley/plate.png" width="16" height="16" alt="" />',
                    '<img src="smiley/question.png" width="16" height="16" alt="" />',
                    '<img src="smiley/restroom.png" width="16" height="16" alt="" />',
                    '<img src="smiley/rose.png" width="16" height="16" alt="" />',
                    '<img src="smiley/sad.png" width="16" height="16" alt="" />',
                    '<img src="smiley/search.png" width="16" height="16" alt="" />',
                    '<img src="smiley/shame.png" width="16" height="16" alt="" />',
                    '<img src="smiley/shocked.png" width="16" height="16" alt="" />',
                    '<img src="smiley/shopping.png" width="16" height="16" alt="" />',
                    '<img src="smiley/shut-mouth.png" width="16" height="16" alt="" />',
                    '<img src="smiley/sick.png" width="16" height="16" alt="" />',
                    '<img src="smiley/silent.png" width="16" height="16" alt="" />',
                    '<img src="smiley/sleeping.png" width="16" height="16" alt="" />',
                    '<img src="smiley/sleepy.png" width="16" height="16" alt="" />',
                    '<img src="smiley/star.png" width="16" height="16" alt="" />',
                    '<img src="smiley/stressed.png" width="16" height="16" alt="" />',
                    '<img src="smiley/studying.png" width="16" height="16" alt="" />',
                    '<img src="smiley/suit.png" width="16" height="16" alt="" />',
                    '<img src="smiley/surfing.png" width="16" height="16" alt="" />',
                    '<img src="smiley/thinking.png" width="16" height="16" alt="" />',
                    '<img src="smiley/thunder.png" width="16" height="16" alt="" />',
                    '<img src="smiley/tongue.png" width="16" height="16" alt="" />',
                    '<img src="smiley/tv.png" width="16" height="16" alt="" />',
                    '<img src="smiley/typing.png" width="16" height="16" alt="" />',
                    '<img src="smiley/uhm-yeah.png" width="16" height="16" alt="" />',
                    '<img src="smiley/wink.png" width="16" height="16" alt="" />',
                    '<img src="smiley/working.png" width="16" height="16" alt="" />',
                    '<img src="smiley/writing.png" width="16" height="16" alt="" />'
            ],
            dropfileclick: 'Drop image or click',
            placeholderUrl: 'www.example.com',
            clipImage: [600,200],
            clipSmiley: [64,24],
            /*
            onImageUpload: function( insert_image ) {
                            // A bit tricky, because we can't easily upload a file
                            // via '$.ajax()' on a legacy browser.
                            // You have to submit the form into to a '<iframe/>' element.
                            // Call 'insert_image(url)' as soon as the file is online.
                            // Best way to do: http://malsup.com/jquery/form/
                            // For example:
                            //$(this).parents('form')
                            //       .attr('action','/path/to/file')
                            //       .attr('method','POST')
                            //       .attr('enctype','multipart/form-data')
                            //       .ajaxSubmit({
                            //          success: function(data,textStatus,jqXHR){
                            //            var image_url = data;
                            //            console.log( 'URL: ' + image_url );
                            //            insert_image( image_url );
                            //          }
                            //        });
                        },
            onKeyEnter: function() {
                            return false; // swallow enter
                        },
            */
            styleWithCSS: true,
            insertBrOnReturn: true            
        })
        .change(function(){
            if( typeof console != 'undefined' )
                console.log( 'change' );
        })
        .focus(function(){
            if( typeof console != 'undefined' )
                console.log( 'focus' );
        })
        .blur(function(){
            if( typeof console != 'undefined' )
                console.log( 'blur' );
        });
    });

    // Demo-Buttons
    $('#editor3-bold').click(function(){
        $('#editor3').wysiwyg('bold');
        return false;
    });
    $('#editor3-red').click(function(){
        $('#editor3').wysiwyg('highlight','#ff0000');
        return false;
    });
    $('#editor3-sethtml').click(function(){
        $('#editor3').wysiwyg('html', 'This is a the html text');
        return false;
    });
    $('#editor3-inserthtml').click(function(){
        $('#editor3').wysiwyg('inserthtml', 'This is some text');
        return false;
    });

    // Raw editor
    var option = {
        element: $('#editor0').get(0),
        onkeypress: function( code, character, shiftKey, altKey, ctrlKey, metaKey ) {
                        if( typeof console != 'undefined' )
                            console.log( 'RAW: '+character+' key pressed' );
                    },
        onselection: function( collapsed, rect, nodes, rightclick ) {
                        if( typeof console != 'undefined' && rect )
                            console.log( 'RAW: selection rect('+rect.left+','+rect.top+','+rect.width+','+rect.height+'), '+nodes.length+' nodes' );
                    },
        onplaceholder: function( visible ) {
                        if( typeof console != 'undefined' )
                            console.log( 'RAW: placeholder ' + (visible ? 'visible' : 'hidden') );
                    }
    };
    var wysiwygeditor = wysiwyg( option );
    wysiwygeditor.markup( true, true ); // styleWithCSS, insertBrOnReturn
});
</script>
<style>
body {
    font-family: Arial,Verdana;
}
p {
    margin: 0;
    padding: 0;
}
.button {
    -moz-user-select: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
</style>
</head>
<body>

<a href="https://github.com/wysiwygjs/wysiwyg.js"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

<h1><center>wysiwyg.js</center></h1>

<pre style="width:860px; margin: 30px auto;">
'wysiwyg.js' is a (minified) 12k contenteditable-editor with no dependencies.
It does only:
    * Transforms any HTML-element into contenteditable
    * onselection-event: e.g. to open a toolbar
    * onkeypress-event: e.g. to handle hotkeys
    * onplaceholder-event: show/hide a placeholder

It works with:
    * Internet Explorer 6+
    * Firefox 3.5+
    * Chrome 4+
    * Safari 3.1+

If a &lt;textarea&gt; was used as 'element', the library:
    * keeps the &lt;textarea&gt; in sync
    * falls back to the &lt;textarea&gt; if the browser does not support 'contenteditable'
    * Old iOS and Android 2.3- degrade to &lt;textarea&gt;

There is also a (minified) 11k jQuery-plugin '$.wysiwyg()' to create a
full-featured editor which depends on:
    * wysiwyg.js
    * jQuery
    * FontAwesome (or PNG images)
</pre>

<h1><center>Examples:</center></h1>

<div style="width:860px; margin: 30px auto;">
  <div style="color:#aa0000;font-weight:bold">$.wysiwyg(): All toolbar-buttons on top + toolbar on selection with some buttons:</div>
  <textarea id="editor1" name="editor" placeholder="Type your text here...">
    Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
    Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </textarea>
</div>

<div style="width:860px; margin: 30px auto;">
  <div style="color:#aa0000;font-weight:bold">$.wysiwyg(): Some toolbar-buttons on bottom + custom-button, no selection-toolbar:</div>
  <textarea id="editor1" name="editor" placeholder="Type your text here...">
    Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
    Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </textarea>
</div>

<div style="width:860px; margin: 30px auto;">
  <div style="color:#aa0000;font-weight:bold">$.wysiwyg(): Toolbar with some buttons on selection, hijack right-click:</div>
  <textarea id="editor3" name="editor" placeholder="Type your text here...">
    Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
    Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </textarea>
  <a id="editor3-bold" class="button" href="#" unselectable="on">bold</a> |
  <a id="editor3-red" class="button" href="#" unselectable="on">red background</a> |
  <a id="editor3-sethtml" class="button" href="#" unselectable="on">set html</a> |
  <a id="editor3-inserthtml" class="button" href="#" unselectable="on">insert html</a>
</div>

<div style="width:860px; margin: 30px auto;">
  <div style="color:#aa0000;font-weight:bold">Raw wysiwyg.js-editor (no jQuery, no CSS):</div>
  <div id="editor0" style="padding:5px;border:1px dashed black">
    Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua.
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
    Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  </div>
</div>

<h1><center>API:</center></h1>

<pre style="width:860px; margin: 30px auto;">
// create wysiwyg:
var wysiwygeditor = wysiwyg({
    element: document.getElmentById('editor-id'),
    onkeypress: function( code, character, shiftKey, altKey, ctrlKey, metaKey ) {
        },
    onselection: function( collapsed, rect, nodes, rightclick ) {
        },
    onplaceholder: function( visible ) {
        },
    hijackcontextmenu: false
});

// properties:
wysiwygeditor.getElement();
wysiwygeditor.getHTML(); -> 'html'
wysiwygeditor.setHTML( html );
wysiwygeditor.getSelectedHTML(); -> 'html'|false

// selection and popup:
wysiwygeditor.collapseSelection();
wysiwygeditor.openPopup(); -> popup-handle
wysiwygeditor.closePopup();

// exec commands:
wysiwygeditor.markup( styleWithCSS, insertBrOnReturn );
wysiwygeditor.removeFormat();
wysiwygeditor.bold();
wysiwygeditor.italic();
wysiwygeditor.underline();
wysiwygeditor.strikethrough();
wysiwygeditor.forecolor( color );
wysiwygeditor.highlight( color );
wysiwygeditor.fontName( fontname );
wysiwygeditor.fontSize( fontsize );
wysiwygeditor.subscript();
wysiwygeditor.superscript();
wysiwygeditor.align( 'left'|'center'|'right'|'justify' );
wysiwygeditor.format( tagname );
wysiwygeditor.indent( outdent );
wysiwygeditor.insertLink( url );
wysiwygeditor.insertImage( url );
wysiwygeditor.insertHTML( html );
wysiwygeditor.insertList( ordered );
</pre>

</body>
</html>
